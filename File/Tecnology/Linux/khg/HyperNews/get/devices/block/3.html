
<HTML>
<HEAD>
<TITLE>Polled driver for NAND Flash memories</TITLE>
<LINK rel="owner" href="mailto:">
<SCRIPT LANGUAGE="JavaScript">
<!-- hide this

function help(message) {
  self.status = message;
  return true;
}
// stop hiding -->
</SCRIPT>

</HEAD>
<BODY>
<strong>The
HyperNews <a href="../../khg.html">Linux KHG</a>
Discussion Pages</strong>
<hr>
<NOBR>





</NOBR><BR>
<H2><IMG src="../../../../Icons/question.gif" ALT="Question:"
  WIDTH=15 HEIGHT=15
  ALIGN="bottom">
Polled driver for NAND Flash memories</H2>

<DL> <DD>
<NOBR>
<font size=+1><I>Forum:</I> <A HREF="../block.html" >
 Block Device Drivers</A> </font><BR>
<I>Keywords:</I> 'polled drivers' 'flash devices' <BR>
<I>Date:</I> Tue, 01 Jul 1997 21:14:32 GMT <BR>
<I>From:</I> Mike Cruse &lt;<A HREF="mailto:mcruse@cti-ltd.com" >mcruse@cti-ltd.com</A>&gt; <BR>

</NOBR>
</DD> </DL>

<P>
<table border cellpadding=5 cellspacing=0 
 width="100%" BGCOLOR="#FFFFFF">
 <tr><td>

I am writing a driver for Toshiba Nand Flash devices. It needs to be polled since I dont have an interrupt line available.
<P>

I have a version working now but when my strategy routine is called I have to satisfy all of the IO requests since I am not sure how to postpone any requests.
<P>

The main symptom is that everything stops until all IO has been processed. This is obviously because my code waits on the device to finish for every operation. The period can be quite lengthy with large write bursts.
<P>

I'm looking at starting a timer to poll the device for command completion but I am unsure of what context this timer activated routine will have.
<P>

Alternatively I could give some time back to the scheduler by calling schedule() or something but this doesn't seem quite right. At least attempts so far have met with what we in the business would refer to as 'no real success'.
<P>

I'm am looking at other drivers in the kernel source and making some progress but for the most part these drivers are designed to get the job done rather than enlighten a student. And rightly so.
<P>

Is there an example more applicable to my task? Does anyone have a few suggestions or comments?
<P>

Any help would be much appreciated.
<P>

Please fell free to send email too: <A HREF="mailto:mcruse@cti-ltd.com">mcruse@cti-ltd.com</A>
<P>

Mike Cruse
Conservation Through Innovation.
Prescott Arizona.
<P>

</td></tr>
</table>
<P><NOBR>





</NOBR><BR>
<P><B><A NAME="Messages">Messages</A></B>
<NOBR>
<font size=-1>







</font>
</NOBR>
 <P>
<NOBR>
<DL COMPACT>
<DT> 1. <IMG src="../../../../Icons/idea.gif" ALT="Idea:" WIDTH=15 HEIGHT=15 ALIGN="absmiddle">
<A HREF="3/1.html">
Timer events have interrupt context</A> <i> by <A HREF="../../../../~johnsonm">Michael K. Johnson</A></i>
 <IMG SRC="../../../../Icons/newest.gif" ALT="newest" WIDTH=31 HEIGHT=12
  ALIGN="bottom"> </DT>
</DL>
</NOBR>

<P>
<P>



  






<BR> 
 
<BR></BODY>
</HTML>
